use cairo_verifier::vector_commitment::vector_commitment::{
    VectorCommitment, VectorCommitmentConfig, VectorCommitmentWitness, VectorQuery,
    vector_commitment_decommit,
};

// test data from cairo0-verifier keccak-native run on stone-prover generated proof
#[test]
#[available_gas(9999999999)]
fn test_vector_commitment_decommit() {
    let commitment = VectorCommitment {
        config: VectorCommitmentConfig {
            height: 0xb, n_verifier_friendly_commitment_layers: 0x64,
        },
        commitment_hash: 0x6fb12bd48b9888a8e658379b2bc292a24683ba58ae04cc3f88ccea065cd1e29
    };

    let queries = array![
        VectorQuery { index: 0x4, value: 0xc59695de6389edbc041bf0fa3981d4960ba0eab5 },
        VectorQuery { index: 0x44, value: 0xd39ba995a396332afdbc259df21579fff43ddcc0 },
        VectorQuery { index: 0x12c, value: 0x3914e2a3dc4e65c01e3f04f37a03adbf4162e640 },
        VectorQuery { index: 0x160, value: 0x7215d6a4ee66e2529a27a41c5b82e4f1b1b3981 },
        VectorQuery { index: 0x165, value: 0xaa9a47ad841ffc27bbc716ba1d48e97b30304038 },
        VectorQuery { index: 0x1e9, value: 0xf17ccad8cc2712ba6a273af34ce8bffa8a21c12 },
        VectorQuery { index: 0x205, value: 0x21b6c793b97a2d7f203a93111b6d5f9658b530d7 },
        VectorQuery { index: 0x2eb, value: 0x45ba7986c7fc43dc051e0ca8e722441a5b39d7f6 },
        VectorQuery { index: 0x2f3, value: 0xc5e877bacde594fae7c435bf42ea23fce7cf0681 },
        VectorQuery { index: 0x36c, value: 0xf5d449e21a08294f96394de72e9b1227c801d8c7 },
        VectorQuery { index: 0x3dc, value: 0xb2cd4fd1b139663c711e8e4cbccbee1924f5ee3b },
        VectorQuery { index: 0x4af, value: 0x384c7b3242430f802c835bad16ef7141ab4eba7f },
        VectorQuery { index: 0x4b3, value: 0x2164c9c5caff4d72f8203b37ac1905eb84785e17 },
        VectorQuery { index: 0x549, value: 0x1bd11b9747075d8e16adcb911b7f8052ea570886 },
        VectorQuery { index: 0x6a5, value: 0xada82ad4d79e3f215d7c7e32ba7967a18cb5da5d },
        VectorQuery { index: 0x78c, value: 0x4b8fa9d45e45df2664fe4ba3d97afe319a6c44b8 },
        VectorQuery { index: 0x78d, value: 0x546c1b22cc3fb2cde42480696a00ee6ffeed945 },
        VectorQuery { index: 0x7bc, value: 0xe21650a9efbfaee00cbdacc6e620acea50a9c063 },
    ]
        .span();

    let witness = VectorCommitmentWitness {
        authentications: array![
            0xf55096d2f7b8f07eec62a5343c77062b39463114,
            0x78b5fdb2c391bab1537ac9587918f4458ff62d42,
            0xb4b02d2f5975158bc76dfe55d6e923b0cc3a4503,
            0xfaec62b8eed0a2b3e238850ccd6cd10277cb1b28,
            0x4a554c7ed80ad701e19397ce320db0b4a225fc27,
            0xfa403f0c074ad366c49ff03e2982a72f2ba038e5,
            0x8b394964fef8ee3fc671ce43102e0902201ddadb,
            0x3afff4c18399da53f86cbaffa899b457a125f50c,
            0x433b6cf6715bd0b087e191541ec81031ff75eb2c,
            0x8cb17f676ce30d8679c562621e405784d9722b90,
            0x9e8bd9876a5d05894f105c7f0c08e13f4a9c6ab4,
            0x925ed8430f1c5237a4f7c8b81543125467da1565,
            0x4dc2837e605144eefbd643bd86f1b9cbbafafce3,
            0x2efeebc2ec0d5ca767cf4c41221758fc04324fb6,
            0x2a1e4e2a4806010744e41dd70ccf963eff19d041,
            0xa644ef36cf2f66dc84b9aa3b81b1393efbc65a26,
            0xf7b80a5c4b44168402c9f84c9d361d1e6502c8e9f36d87f5518d92120ad8,
            0x4e3c13be8435b470884e764d56aaa96c123a2e698ca41a36374af4cb5b6e3cf,
            0x183c8e762a3d9acac8203a91ea13998363d26808cd09a911a898524281bb991,
            0x6a0c600069ab811470501cebb1b357698ffbb377351a8fc58c7d4b2f16854b8,
            0x34a0334d9681c49ff442cbe788be80244ee93fb535fbc0b5ad16223b4a38e3b,
            0x669b719c7ed287adc4093f797d96165edc2fb3e93424816635f057ef358d827,
            0xc1d8abf021965bbd29c9f24b5ba7ba0a1662c21e633e17d99d3a348686ebbe,
            0xaf4ae98bbf18ac72a24f2f46f7ef66f5f462006f54acca1c72ceffe0799b4c,
            0x1bc70877bc75a2334c7468e82d3edfcdbfa5b4e56fa382b0be1ffd4f5acc25b,
            0x30c29bcd91ad40012952320b8c7817610405e184e4c5808edb3d20a902a17f8,
            0x38374e573acfb181e5ef2d23179daaad817cfa34d28354d0380b7e4035bb952,
            0x31d49bffe5a2f545f551c4d56f0e13951220e80a44d058aa42fe79d8c852bc,
            0x2376b6ef5fc92ebceb8f03de926a8f7e4b8b185c4f45249945a2faf0b4d241,
            0x575fc08cde15fac264a01409aa3e6ade8a4e0a23e12da2d7266f66f4f9e9b11,
            0x61c80d3dea67aa45df8f1a4fc59e0a342709dba842914b7a1d35b1f494f3f3b,
            0x4e823960cad7bbcf8cb465174bd6f5277565e65b0e74cb8ea0e5a59a9dd7a00,
            0x1858636dcdb6991ea99e1e0e0726174d94ee6f2c4631189ae7c99f5322b381d,
            0x78bbcfefb0d51a3d7c6e5af76817c23a9204b9984fe3935202cd6b901279219,
            0x5d6fe1c4324c0cd5c2dadb4934dd0d755227744fbf623858894ccd187b7ec88,
            0x6f4f26dced70f3bdc8e57435bbe1f501e87523d5e96848db4c8d0b1b4113b52,
            0x353341a393a93f30ec1e0bd79610de5ed363d2a8aec961826b7ed48c7db0371,
            0x402d412e00c4f00af22f41c4416ae0446022c8b3d570ebbdb7fe7e3a9a1c034,
            0x4deba1da491a9b0c478ebec8daaf2d741b17064eb41963a3e239d1dd12105a2,
            0x7a4cbbd09420be9fe7e6a63e9466766361857a2984ed2781c8bf3e7dbff81b5,
            0x3ad55002693781ce9199dc5b86aa29eab455868aca80d5e4ad7b42352fa86b5,
            0x52ee7bd4683a9d6e4a23faac5f61c5fab4d9136f2aee9521d3403b5fe276fdb,
            0x2e74229f057d6e41bb5b70039c910321d29e3616d3f9f934adbb5ed39fb4256,
            0x74755694b1f154f3ab5af1d5d3074feb950bbdbcef806d7e86b042f1a792b43,
            0x2455a171b2c245bc7312b88d9895b21a4e50ff9e1abb819c5cfd682ca04eedf,
            0xc861f27f72df5c02064c620d935c9a8414d7360b276c1214b749df866ba304,
            0x3a3538058899abcfb7689b53525ed5aa0637d1534d11b2d8df3d75b289c1e7d,
            0x4009ef7214fcae086d105befb9f52f554f832165dd7437eb6804cef0ed36a47,
            0x518ccdc4ad24ee83c344cb81413b710d39a993701d92c132a065b684af3b1c0,
            0x2ffbded319cbad0d76150b2f1d4c2d853c65cb8b7ae02995971700476643534,
            0x7fc3e1e870bb9d663a41b7468ceaf23634d3af5ce2e07b72520d211168be05f,
            0x49ac36a7cc1ce1cb681adaebc14dc0e70feff24ea52df8ad445f51019f26181,
            0x5b4e76f0d6530b6e620fa0bc3206f59b8e0aa4f13ff6655ea6e322074f4f650,
            0x6558ff006dc47e82ca9f24e555f3366a95d0c96d16621524a332972231d70ca,
            0x365da3cf61ef9b380fd84d1e5cdffac5cd2555fe83b49c52dad0cf3fc86165f,
            0x4e1c876b2ed80adf0040c7ee3943abb7dadef9e7fcdb5f592714e60648b1c42,
            0x3b79a5451e5be10ebe65a6759c06048d8b3de717145a026676b7affdee180ab,
            0x57fa8d4e2be3c2e13c25acbff693ad042e24ca696176bcbd3bd037b801c242d,
            0x786b9b0ac0c234d7a8528d7a79288a7e429382b11e293e6292413344a64521a,
            0x765b37f81acd90a87d1ea1f1aa3d318b7159ce57a47b919408fd206528c3539,
            0x19f6fe36a1939b62da15ffcec86334766a4719576d9918ad4f77af6d383f857,
            0x26e7703fd88ff8f9d5e9fc5b04f190f673344e503b102f35dc9395ca2d3201d,
            0x6f265baf8a84aa96eaf8dbf912d6f5e23c4afc406316b8ce8caabdb95462b27,
            0x3c1b06cc4e16545ca42d5a1b008bacd5b898a6f228ec75504e8d23674b0b00f,
            0x1f2c07ffd444b643a40a02afebe5c9525a49565b1b2958c8c6f62f5d5eebcf3,
            0x3a9ec34c2d19c0fd9df45d692652c656af4bc76f6ec392ac0977f706ad0de8f,
            0x76e8b53b29b8e8b33320e4004d304908ccd49f845fb655f3305298106675779,
            0x7eee11652daf7e4723e2a45e67e121b8302d1421658c335b9507c00e1cd2c99,
            0x2a48f84e6dcdd4ead02aa72a70b8857b6708938c8ed168d15f453e4b61214a5,
            0x24f359e5b215c89c57e8b0e5ff4e47bbed0e2858a13b729bf2e36ef8a827242,
            0x6de7c303a304c966ecc2c628cd4085480de9c535014dd132b4dd5c7122fbc93,
            0x61e6baaae3e9c3d27b20c6de698c99d4be7570d57570bd682bb0aee330bab38,
            0x7318c02cd3be78c9e7c8fd5d1f320263da51dc817dda80efb4169b686547c50,
            0x7e10f75246b58d4ba3532657b5c1d847aa436a4dde59178adca3c43068f16ab,
            0x53e24f37b555308cc05a61e0852c617896c08963ceaae70e88bb6423e40b63f,
            0x1754c425022eff0fb86d4128130f27d5435d70b9f47510f4bf17ea008c81888,
            0x3930fd515c31a879d879c47ad216ec264791d0f5af2dfe60ccb3ae74739cfe6,
            0xa0ec122d33d517595b7b0e00237106f8fac5750e74846b7ec2f928c908ef0c,
            0x54bcd6bfc9c7284e7044314992d01bbd1a31dc9acd0991010ce3a4b28149f9,
            0x24fa80d4bdd131f47b5ff93e4b8528bc5b3cd53240c42204a68818d54b9c065,
            0x787cb0185088ff613b0ee0b3df80713e0e834798e5f32def440e2355c586752,
            0x411e04cc61bb2ae3ad09271609c30689f8bad3e14042295c5ca6668b07801d2,
            0x5b808b76f57ec1e1495354e4ef9d995889c7c28777db6c173f6e066dec5bb5f,
            0xc88bae1ac34830d0ad131867fa912faf20200eae6db58acb3557b57bb01d56,
            0x5925ba7ded78c3fc311109c3e989769855dce6e84d2be46c925ebe3931351c0,
            0x2a1713d95c2295d15013dd3df02e2d1cb55aabb585e97fe7f738337d860b7a3,
            0x7e2bbfeb2da6a1b05b3dd93383592d9c813932c76b4339b5ef75b940fa69087,
            0x6a1b49c0b2e01faf57db34e617d8f671562bcdd4cf7bb335ea277ccf28953e4,
            0x68a0c0c17c01d20c5650972084a5843496bb498206e13e0dd3f644eb0752382,
            0x33eac3e001bb4f135dd70daef8a76e8777a04852c529934ee17e059f2fd658d,
            0x4c2cb9694ba52230f47d321eb72140c4d90fb0ab7e9de0682f76595283b8e38,
            0x63a398e6a765fe052b07df038ded4c29360fc11145e5655848e97bae32d325b,
            0x781cf8466d5b5c54c3bef7311c62f9883396ff76447581041032ba7dc85d87c,
            0xd224797bbd0dd5dda3a4801a15b57630c7c09d029bb6e547a0854452f7064d,
            0x2a23582d466c471a03f979dc9c7aae3c2ba5b88724d555ce8f92a3bde806910,
            0x6f6ae49e32a297e4e6989dd8df7b7e2491d53dd8ef7be2c1aa3f09314200493,
            0x6b55db7c7234df9d3e3f905076799c873e09e5655819b757c4177dc09ab6873,
            0x243d908da27170f5dbfee91e1bfa8be8dbcd19768c0e24dfa46d44f03da6b63,
            0x7cf917c52ff864728e210d2d9742cb97cb948c2355123a076e76e5a479d3b8e,
            0x60edc5d8925144076d7bc8700ea93d9fa2a78e9b82fc1db33cba6db5291c46f,
            0x3fcd29866de6fc6e6057e5196bed9c9f7225c09e91707f9c4830c847b7f3244,
            0x4b91acd7f2b803808ff7981dca8b3c734233bdf89b6034e6d2c35222a6cbfa0,
        ]
            .span(),
    };

    vector_commitment_decommit(commitment, queries, witness);
}
